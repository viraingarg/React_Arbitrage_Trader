(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),r=a(38),i=a.n(r),c=(a(50),a(15)),o=a(16),l=a(18),h=a(17),u=a(19),p=a(39),g=a.n(p),d=a(14),m=a(23),f=a(40),b=a.n(f),v=(a(68),a(69),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this,e))).state={value:"EURUSD"},a.chart=null,a.getCurrencyPairLabel=a.getCurrencyPairLabel.bind(Object(m.a)(a)),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){this.props.handleChange(e.target.value),this.chart.unload({ids:this.state.value}),this.setState({value:e.target.value})}},{key:"componentDidMount",value:function(){this.chart=b.a.generate({data:{columns:[[this.state.value].concat(Object(d.a)(this.props.graphData))]},bindto:"#"+this.props.id})}},{key:"componentDidUpdate",value:function(){this.chart.load({columns:[[this.state.value].concat(Object(d.a)(this.props.graphData))]})}},{key:"getCurrencyPairLabel",value:function(e){return e.slice(0,3)+"/"+e.slice(3)}},{key:"render",value:function(){var e=this,t=this.props.currencyPairs.map(function(t,a){return s.a.createElement("option",{key:a,value:t.currency_name},e.getCurrencyPairLabel(t.currency_name))});return s.a.createElement("div",{className:"graph"},s.a.createElement("select",{value:this.state.value,onChange:this.handleChange.bind(this)},t),s.a.createElement("h1",null,this.props.graphData[this.props.graphData.length-1]),s.a.createElement("div",{id:this.props.id}))}}]),t}(n.Component)),y=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this,e))).graph1Change=function(e){console.log("Curreny Pair sent ",e),a.setState({graphData1:[]},function(){a.socket1.send(JSON.stringify({currencyPair:e}))})},a.graph2Change=function(e){console.log("Curreny Pair sent ",e),a.setState({graphData2:[]},function(){a.socket2.send(JSON.stringify({currencyPair:e}))})},a.graph3Change=function(e){console.log("Curreny Pair sent ",e),a.setState({graphData3:[]},function(){a.socket3.send(JSON.stringify({currencyPair:e}))})},a.increasePip=function(e){a.setState({pipValue:+a.state.pipValue+1})},a.decreasePip=function(e){a.setState({pipValue:0===a.state.pipValue?0:+a.state.pipValue-1<0?0:+a.state.pipValue-1})},a.state={currencyPairs:[],errorMessage:"",loading:!1,totalItemsCount:0,graphData1:[],graphData2:[],graphData3:[],pipValue:1},a.socket1=null,a.socket2=null,a.socket3=null,a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"createSocket",value:function(){return new WebSocket("wss://stocksimulator.intuhire.com")}},{key:"componentDidMount",value:function(){var e=this;this.socket1=this.createSocket(),this.socket1.onclose=function(e){console.log("Closing connection")},this.socket1.onmessage=function(t){console.log("Data Received in 1: ",t.data);var a=[].concat(Object(d.a)(e.state.graphData1),[t.data]);a.length>10&&a.shift(),e.setState({graphData1:a})},this.socket1.onopen=function(t){console.log("Socket1 connection established."),e.socket1.send(JSON.stringify({currencyPair:"EURUSD"}))},this.socket2=this.createSocket(2),this.socket2.onclose=function(e){console.log("Closing connection")},this.socket2.onmessage=function(t){console.log("Data Received 2: ",t.data);var a=[].concat(Object(d.a)(e.state.graphData2),[t.data]);a.length>10&&a.shift(),e.setState({graphData2:a})},this.socket2.onopen=function(t){console.log("Socket2 connection established."),e.socket2.send(JSON.stringify({currencyPair:"EURUSD"}))},this.socket3=this.createSocket(3),this.socket3.onclose=function(e){console.log("Closing connection")},this.socket3.onmessage=function(t){console.log("Data Received 3: ",t.data);var a=[].concat(Object(d.a)(e.state.graphData3),[t.data]);a.length>10&&a.shift(),e.setState({graphData3:a})},this.socket3.onopen=function(t){console.log("Socket3 connection established."),e.socket3.send(JSON.stringify({currencyPair:"EURUSD"}))}}},{key:"handleChange",value:function(e){this.setState({pipValue:e.target.value})}},{key:"render",value:function(){var e=+this.state.graphData1[this.state.graphData1.length-1]/+this.state.graphData2[this.state.graphData2.length-1]-+this.state.graphData3[this.state.graphData3.length-1];return e<-+this.state.pipValue/1e3?(this.buttonClass="buy-button",this.buttonLabel="BUY"):e>+this.state.pipValue/1e3?(this.buttonClass="sell-button",this.buttonLabel="SELL"):e>-+this.state.pipValue/1e3&&e<+this.state.pipValue/1e3&&(this.buttonClass="disable-button",this.buttonLabel=""),s.a.createElement("div",{className:"graph-container"},s.a.createElement("div",{className:"pip-selector"},s.a.createElement("label",{htmlFor:"pip"},"PIP Difference",s.a.createElement("i",{className:"fas fa-minus",onClick:this.decreasePip}),s.a.createElement("i",{className:"fas fa-plus",onClick:this.increasePip})),s.a.createElement("input",{id:"pip",type:"text",value:this.state.pipValue,onChange:this.handleChange.bind(this)})),s.a.createElement("div",{className:"graph1"},s.a.createElement(v,{currencyPairs:this.props.currencyPairs,handleChange:this.graph1Change,graphData:this.state.graphData1,id:"lineChart1"})),s.a.createElement("div",{className:"graph2"},s.a.createElement(v,{currencyPairs:this.props.currencyPairs,handleChange:this.graph2Change,graphData:this.state.graphData2,id:"lineChart2"})),s.a.createElement("div",{className:"graph3"},s.a.createElement(v,{currencyPairs:this.props.currencyPairs,handleChange:this.graph3Change,graphData:this.state.graphData3,id:"lineChart3"})),s.a.createElement("div",{className:"button"},s.a.createElement("button",{className:this.buttonClass},this.buttonLabel)))}}]),t}(n.Component),k=(a(70),a(41)),C=a.n(k),E=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this,e))).state={currencyPairs:[],errorMessage:"",loading:!1,totalItemsCount:0},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),g.a.get("https://restsimulator.intuhire.com/currency_pairs").then(function(t){console.log("Success response from Api ",t),e.setState({currencyPairs:t.data,errorMessage:"",loading:!1,totalItemsCount:t.data.length})}).catch(function(t){console.log("Error response from Api",t.response),e.setState({currencyPairs:[],errorMessage:"Unable to fetch data, please try later.",loading:!1,totalItemsCount:0})})}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{id:"header"},s.a.createElement("span",null,"React Arbitrage Trader")),s.a.createElement("div",{id:"body"},this.state.loading?s.a.createElement("div",null,s.a.createElement("div",{className:"loader loader-align"},s.a.createElement(C.a,{type:"Watch",color:"#00BFFF",height:"100",width:"100"})),s.a.createElement("div",{className:"loader-label loader"},s.a.createElement("span",null,"Loading....."))):""!==this.state.errorMessage?s.a.createElement("span",null,"Eroor Loading api"):s.a.createElement(y,{currencyPairs:this.state.currencyPairs})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var D=a(42),S=a(12);i.a.render(s.a.createElement(D.a,null,s.a.createElement("div",null,s.a.createElement(S.a,{path:"/",exact:!0,component:E}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},45:function(e,t,a){e.exports=a(103)},50:function(e,t,a){},70:function(e,t,a){}},[[45,1,2]]]);
//# sourceMappingURL=main.a9dd3a81.chunk.js.map